<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Cambas</title>
</head>

<body>
    <h1>Dibujo en canvas</h1>
    <p>
        Cuantas lineas quieres
        <input type="text" id="texto_lineas" />
        <input type="button" value="A darle!" id="botoncito" />
    </p>
    <canvas width="300" height="300" id="dibujito"></canvas>
    <p>Asi queda tu dibujo</p>
</body>
<script>
    var texto = document.getElementById("texto_lineas");
    var boton = document.getElementById("botoncito");
    boton.addEventListener("click", dibujoPorClick);
    var d = document.getElementById("dibujito");
    var ancho = d.width;
    var lienzo = d.getContext("2d");

    function dibujarLinea(color, xinicial, yinicial, xfinal, yfinal) {
        lienzo.beginPath();
        lienzo.strokeStyle = color;
        lienzo.moveTo(xinicial, yinicial);
        lienzo.lineTo(xfinal, yfinal);
        lienzo.stroke();
        lienzo.closePath();
    }

    function dibujoPorClick() {
        var lineas = parseInt(texto.value);
        var yi, xf;
        var yf, xi;
        var colorcito = "#FAA";
        var espacio = ancho / lineas;

        for (l = 0; l < lineas; l++) {
            yi = espacio * l;
            xf = espacio * (l + 1);
            xi = espacio * l;
            yf = ancho - (espacio * l);
            dibujarLinea(colorcito, 0, yi, xf, 300);
            dibujarLinea(colorcito, 300, yi, xf, 0);

            dibujarLinea(colorcito, xi, 0, 0, yf);
            dibujarLinea(colorcito, xi, 300, 300, yf);

        }

        dibujarLinea(colorcito, 1, 1, 1, 299);
        dibujarLinea(colorcito, 1, 299, 299, 299);

        dibujarLinea(colorcito, 299, 299, 299, 1);
        dibujarLinea(colorcito, 299, 1, 1, 1);

    }
</script>

</html>